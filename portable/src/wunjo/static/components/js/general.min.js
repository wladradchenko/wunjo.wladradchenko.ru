function formatDateTime(e){if(!e)return"";let t;var e=(t="number"==typeof e?new Date(1e3*e):new Date(e)).getFullYear(),n=[getTranslationBabel("January"),getTranslationBabel("February"),getTranslationBabel("March"),getTranslationBabel("April"),getTranslationBabel("May"),getTranslationBabel("June"),getTranslationBabel("July"),getTranslationBabel("August"),getTranslationBabel("September"),getTranslationBabel("October"),getTranslationBabel("November"),getTranslationBabel("December")][t.getMonth()],o=t.getDate();return String(t.getHours()).padStart(2,"0")+`:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")} ${n} ${o}, `+e}function validCallback(e=null){"function"==typeof e?e():console.log("Callback is not a function")}function extractStaticFilePathAndNameFromSrc(e){var t=window.location.origin;let n=e;e.startsWith("http://")||e.startsWith("https://")||(n=t+e);e=t+"/media/content/"+userContentId,t=n.substring(e.length),e=t.lastIndexOf("/");return{srcFilePath:t.substring(0,e),srcFileName:t.substring(e+1)}}function createStaticSrc(e,t){return window.location.origin+"/media/content/"+userContentId+e+"/"+t}function toggleLogical(e){var t=e.nextElementSibling,n=t.nextElementSibling;e.checked?(t.classList.add("bg-accent-primary"),t.classList.remove("bg-dark-elements"),n.classList.add("translate-x-3","bg-dark-elements"),n.classList.remove("translate-x-0","bg-accent-primary")):(t.classList.add("bg-dark-elements"),t.classList.remove("bg-accent-primary"),n.classList.add("translate-x-0","bg-accent-primary"),n.classList.remove("translate-x-3","bg-dark-elements"))}const postModuleTaskEvent=async(e={})=>{try{var t,n=await(await fetch("/submit-module-task",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json();200===n.status?(t=n.id,frontendConsoleLogToBackendPrint("Task module is running..."+t),setTimeout(()=>{},1e3)):frontendConsoleLogToBackendPrint("Something wrong..."+n.message)}catch(e){frontendConsoleLogToBackendPrint("Something wrong..."+e)}},getModuleTaskEventWithIntervalImmediately=async()=>{const t=async()=>{try{return await(await fetch("/query-module-task/"+moduleName,{method:"GET",headers:{"Content-Type":"application/json"}})).json()}catch(e){return console.error(`Something wrong with query module task ${e}.`),frontendConsoleLogToBackendPrint(`Something wrong with query module task ${e}.`),null}},n=e=>{if(e)if(200===e.status)updateViewLoad([]);else if(201===e.status){if("function"==typeof reloadViewContent){const t=document.querySelector(".view-content");const n=t.querySelectorAll(".view-root:not(.view-load)").length;removeViewLoadUniq(e.response).then(()=>{var e=t.querySelectorAll(".view-root:not(.view-load)").length;n===e&&reloadViewContent(moduleName,userFileFormats)}).catch(e=>{console.error("Error loading view:",e)})}}else 404===e.status||100===e.status?updateViewLoad(e.response):updateViewLoad([]);else updateViewLoad([])};setInterval(async()=>{var e=await t();n(e)},3e3);var e=await t();n(e)},urlToBlob=async t=>{try{var e=await fetch(t);if(e.ok)return await e.blob();throw new Error("Failed to fetch resource: "+e.statusText)}catch(e){return console.error("Error fetching resource from URL: "+t,e),null}};function dataURItoBlob(e){var t=atob(e.split(",")[1]),e=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);return new Blob([n],{type:e})}function base64ToBlob(t,e){try{var n=atob(t),o=new Array(n.length);for(let e=0;e<n.length;e++)o[e]=n.charCodeAt(e);var a=new Uint8Array(o);return new Blob([a],{type:e})}catch(e){return console.error("Error decoding base64 string:",e),console.log(typeof t),t}}const createFile=(e,t)=>new File([e],t);function updateCloseButton(e=null,t=!0){e=e||document.querySelector(".close-button");var n='<text class="opacity-60 group-hover:opacity-100"><i class="fa-solid fa-check"></i> '+getTranslationBabel("Submit");e&&(e.innerHTML=t?n:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="white"><path d="M15 5L5 15M5 5L15 15" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>')}async function translateText(n,e,o="auto"){if(!n||0===n.trim().length)return n;if(e===o)return n;try{var a=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${o}&tl=${e}&dt=t&q=`+encodeURIComponent(n),r=await(await fetch(a)).json();let t="";for(let e=0;e<r[0].length;e++)t+=r[0][e][0];return t}catch(e){return console.error("Error fetching translation:",e),n}}function initializeDoubleSlider(e,t,n,o){const a=e.querySelector(".slider-double-min"),r=e.querySelector(".slider-double-max"),s=e.querySelector(".slider-double-range");let i=t||0,l=n||100,c=o||1;function u(e){return(e-i)/(l-i)*100}function d(e,t){var n=(t?a:r).parentNode.getBoundingClientRect(),e=Math.max(0,Math.min(1,(e.clientX-n.left)/n.width)),n=o%1==0?0:o.toString().split(".")[1].length,e=i+e*(l-i),e=0===n?Math.round(e):parseFloat(e.toFixed(n));t?(n=Math.max(i,Math.min(l-c,e)),r.value>n+c&&(t=u(a.value=n),a.style.left=t+"%",n=new Event("input"),a.dispatchEvent(n))):(t=Math.min(l,Math.max(i+c,e)),a.value<t-c&&(n=u(r.value=t),r.style.left=n+"%",e=new Event("input"),r.dispatchEvent(e))),t=parseFloat(a.style.left),n=parseFloat(r.style.left),t=isNaN(t)?0:t,isNaN(n),s.style.left=t+"%",s.style.width=n-t+"%"}a.addEventListener("mousedown",e=>{const t=e=>{d(e,!0)},n=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}),a.addEventListener("touchstart",e=>{e.preventDefault();const t=e=>{d(e.touches[0],!0)},n=()=>{document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)};document.addEventListener("touchmove",t),document.addEventListener("touchend",n)},{passive:!1}),r.addEventListener("mousedown",e=>{const t=e=>{d(e,!1)},n=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}),r.addEventListener("touchstart",e=>{e.preventDefault();const t=e=>{d(e.touches[0],!1)},n=()=>{document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)};document.addEventListener("touchmove",t),document.addEventListener("touchend",n)},{passive:!1}),s.addEventListener("click",e=>{var t=s.parentNode.getBoundingClientRect(),t=(e.clientX-t.left)/t.width,t=i+t*(l-i);d(e,Math.abs(t-a.value)<Math.abs(t-r.value))})}