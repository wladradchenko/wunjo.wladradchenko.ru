class ModulesMetadata{constructor({title:e,subtitle:t,description:a,format:o,url:r,isStatic:n,isPro:i}){this.title=e,this.subtitle=t,this.description=a,this.format=o||[],this.url=r||"#",this.isStatic=n,this.isPro=i||!1}getFormatString(){return this.format.join("/")}}class LivePortraitModulesMetadata extends ModulesMetadata{constructor(){super({title:getTranslationBabel("Live portrait"),subtitle:`${getTranslationBabel("Bring your portraits to life<br> with update a spark of emotion to any")} <a target="_blank" rel="noreferrer noopener" href="https://youtu.be/g_GkhKI3JhA?feature=shared&t=6" class="underline">${getTranslationBabel("content")}</a>.`,description:"",format:[getTranslationBabel("video"),getTranslationBabel("image")],url:"/live-portrait",isStatic:"/static/index/thumbnail/poster/live_portrait.jpg",isPro:!0})}}class FaceSwapModulesMetadata extends ModulesMetadata{constructor(){super({title:getTranslationBabel("Face swap"),subtitle:`${getTranslationBabel("Learn how to seamlessly perform<br> a face swap using just one photo")} <a target="_blank" rel="noreferrer noopener" href="https://youtu.be/-MGow5zCZUQ?feature=shared&t=173" class="underline">${getTranslationBabel("here")}</a>.`,description:"",format:[getTranslationBabel("video"),getTranslationBabel("image")],url:"/face-swap",isStatic:"static/index/thumbnail/poster/face_swap.jpg",isPro:!1})}}class LipSyncModulesMetadata extends ModulesMetadata{constructor(){super({title:getTranslationBabel("Lip sync"),subtitle:`${getTranslationBabel("Learn how to seamlessly <br> animate mouth movements using audio")} <a target="_blank" rel="noreferrer noopener" href="https://youtu.be/-MGow5zCZUQ?feature=shared&t=477" class="underline">${getTranslationBabel("here")}</a>.`,description:"",format:[getTranslationBabel("video"),getTranslationBabel("image")],url:"/lip-sync",isStatic:"/static/index/thumbnail/poster/lip_sync.jpg",isPro:!1})}}class EnhancementModulesMetadata extends ModulesMetadata{constructor(){super({title:getTranslationBabel("Enhancement"),subtitle:`${getTranslationBabel("Upgrade")} <a target="_blank" rel="noreferrer noopener" href="https://youtu.be/-MGow5zCZUQ?feature=shared&t=660" class="underline">${getTranslationBabel("low-res content")}</a><br>`+getTranslationBabel("and even give faces a digital makeover."),description:"",format:[getTranslationBabel("video"),getTranslationBabel("image")],url:"/enhancement",isStatic:"/static/index/thumbnail/poster/enhancement.jpg",isPro:!1})}}class RemoveObjectModulesMetadata extends ModulesMetadata{constructor(){super({title:getTranslationBabel("Remove object"),subtitle:`${getTranslationBabel("Unlock <br> object removal")} <a target="_blank" rel="noreferrer noopener" href="https://youtu.be/-MGow5zCZUQ?feature=shared&t=702" class="underline">${getTranslationBabel("secrets")}</a>.`,description:"",format:[getTranslationBabel("video"),getTranslationBabel("image")],url:"/remove-object",isStatic:"/static/index/thumbnail/poster/remove_object.jpg",isPro:!1})}}class RemoveBackgroundModulesMetadata extends ModulesMetadata{constructor(){super({title:getTranslationBabel("Remove background"),subtitle:`${getTranslationBabel("Master background")} <a target="_blank" rel="noreferrer noopener" href="https://youtu.be/-MGow5zCZUQ?feature=shared&t=920" class="underline">${getTranslationBabel("removal")}</a> `+getTranslationBabel("and <br> get chroma key."),description:"",format:[getTranslationBabel("video"),getTranslationBabel("image")],url:"/remove-background",isStatic:"/static/index/thumbnail/poster/remove_background.jpg",isPro:!1})}}class GenerationModulesMetadata extends ModulesMetadata{constructor(){super({title:getTranslationBabel("Generation"),subtitle:`${getTranslationBabel("Bring your content to")} <a target="_blank" rel="noreferrer noopener" href="https://youtu.be/LIMlsOZdzWM?feature=shared&t=354" class="underline">${getTranslationBabel("video life")}</a> `+getTranslationBabel("from text or images. <br>No more effort for beautiful content."),description:"",format:[getTranslationBabel("text"),getTranslationBabel("image")],url:"/generation",isStatic:"/static/index/thumbnail/poster/generation.jpg",isPro:!0})}}class RestylingModulesMetadata extends ModulesMetadata{constructor(){super({title:getTranslationBabel("Restyling"),subtitle:`${getTranslationBabel("Discover how to change full <br> content or object inside by text prompts in")} <a target="_blank" rel="noreferrer noopener" href="https://youtu.be/LIMlsOZdzWM?feature=shared&t=15" class="underline">${getTranslationBabel("here")}</a>.`,description:"",format:[getTranslationBabel("video"),getTranslationBabel("image")],url:"/restyling",isStatic:"/static/index/thumbnail/poster/restyling.jpg",isPro:!0})}}class CloneVoiceModulesMetadata extends ModulesMetadata{constructor(){super({title:getTranslationBabel("Clone voice"),subtitle:`${getTranslationBabel("Learn how to seamlessly perform<br> clone voice of your neighbors in")} <a target="_blank" rel="noreferrer noopener" href="https://youtu.be/LIMlsOZdzWM?feature=shared&t=510" class="underline">${getTranslationBabel("here")}</a>.`,description:"",format:[getTranslationBabel("text"),getTranslationBabel("audio")],url:"/clone-voice",isStatic:"/static/index/thumbnail/poster/clone_voice.jpg",isPro:!0})}}class SeparatorModulesMetadata extends ModulesMetadata{constructor(){super({title:getTranslationBabel("Separator"),subtitle:`<a target="_blank" rel="noreferrer noopener" href="https://youtu.be/LIMlsOZdzWM?feature=shared&t=594" class="underline">${getTranslationBabel("Separate")}</a> `+getTranslationBabel("vocals from background <br> music effortlessly."),description:"",format:[getTranslationBabel("audio")],url:"/separator",isStatic:"/static/index/thumbnail/poster/separator.jpg",isPro:!1})}}class HighlightsModulesMetadata extends ModulesMetadata{constructor(){super({title:getTranslationBabel("Highlights"),subtitle:`<a target="_blank" rel="noreferrer noopener" href="https://youtu.be/LIMlsOZdzWM?feature=shared&t=594" class="underline">${getTranslationBabel("Highlights")}</a> `+getTranslationBabel("automatically edits videos <br> and answers questions."),description:"",format:[getTranslationBabel("video")],url:"/highlights",isStatic:"/static/index/thumbnail/poster/highlights.jpg",isPro:!1})}}const createMetadata=(e,t)=>{e=new e;return e.description=t,e},modulesMetadataList=[[createMetadata(LivePortraitModulesMetadata,""+getTranslationBabel("Manipulate and animate faces with ease. Move the head, add emotions, or create blinks — manually or automatically. Ideal for bringing static photos to life!")),createMetadata(EnhancementModulesMetadata,""+getTranslationBabel("Enhance facial details to correct imperfections and achieve a polished look."))],[createMetadata(FaceSwapModulesMetadata,""+getTranslationBabel("Replace faces in specific time intervals with precision. If inconsistencies appear, try replacing all faces for improved quality.")),createMetadata(LivePortraitModulesMetadata,""+getTranslationBabel("Add realism to swapped faces by reintroducing natural blinks manually.")),createMetadata(EnhancementModulesMetadata,""+getTranslationBabel("Improve the quality of the swapped face for a seamless result. Experiment by alternating between Enhancement and Live Portrait for better outcomes."))],[createMetadata(LivePortraitModulesMetadata,""+getTranslationBabel("For better video, use the «silence» mode in manually retargeting live portrait to pre-process the mouth to a closed state before applying lip sync.")),createMetadata(LipSyncModulesMetadata,""+getTranslationBabel("Animate lips in photos and videos with realistic movements. Remove double chins if needed for a refined look (note: this may take extra time).")),createMetadata(EnhancementModulesMetadata,""+getTranslationBabel("Further enhance the face’s quality for sharper and clearer animations."))],[createMetadata(EnhancementModulesMetadata,""+getTranslationBabel("Refine face or content quality, eliminating blurry areas for a sharper overall result."))],[createMetadata(RemoveObjectModulesMetadata,""+getTranslationBabel("Remove unwanted text or objects from videos effortlessly. Even moving objects can be removed automatically by the neural network.")),createMetadata(EnhancementModulesMetadata,""+getTranslationBabel("Restore resolution and improve content quality if it diminishes after object removal."))],[createMetadata(RemoveBackgroundModulesMetadata,""+getTranslationBabel("Remove the background from photos or videos. Photos can have transparent backgrounds, while videos will use chromakey."))],[createMetadata(GenerationModulesMetadata,""+getTranslationBabel("Generate videos from text (any language) and images. Control content with brushes and prompts. Create images from text, customize details, and bring your imagination to life."))],[createMetadata(RestylingModulesMetadata,""+getTranslationBabel("Transform using text (any language) your videos or photos into unique styles. For example, dancing in the ocean or sipping coffee in space. Control manually or auto elements such as skin tones.")),createMetadata(EnhancementModulesMetadata,""+getTranslationBabel("If limited video memory causes low resolution, enhance content quality and upscale it effortlessly."))],[createMetadata(CloneVoiceModulesMetadata,""+getTranslationBabel("Clone speech from text. Choose a text generation (before this select language) or convert your voice to match a cloned tone."))],[createMetadata(SeparatorModulesMetadata,""+getTranslationBabel("Separate vocals and instrumentals from music with just one click."))],[createMetadata(HighlightsModulesMetadata,""+getTranslationBabel("The neural network now edits a long video into a short one with highlights and answers questions about them, as well as recommends music."))],[createMetadata(RestylingModulesMetadata,""+getTranslationBabel("Customize object colors or experiment with unique styles — turn your face into an alien, for example, with text-driven (any language) transformations.")),createMetadata(FaceSwapModulesMetadata,""+getTranslationBabel("Replace deformed or inconsistent faces in frames. Use the first frame of your video to maintain consistent facial features.")),createMetadata(EnhancementModulesMetadata,""+getTranslationBabel("Finalize your project by improving the face or overall content quality."))],[createMetadata(SeparatorModulesMetadata,""+getTranslationBabel("Isolate vocals and instrumentals from a song. This will prepare them for editing and further transformations.")),createMetadata(CloneVoiceModulesMetadata,""+getTranslationBabel("Record a new vocal segment and clone its sound to match the original song. Then reassemble the vocals and instrumentals for a seamless edit."))],[createMetadata(FaceSwapModulesMetadata,""+getTranslationBabel("Need a speaking character in your video? Start by finding a similar face or generating one via avatar creation. Perfect for when you lack real footage.")),createMetadata(CloneVoiceModulesMetadata,""+getTranslationBabel("Add voice to the video by cloning from a preferred voice tone. Write the script, choose a language, and let the neural network handle the rest.")),createMetadata(LipSyncModulesMetadata,""+getTranslationBabel("Synchronize lips with the generated voiceover for added realism. Enhance the face quality for a polished result.")),createMetadata(LivePortraitModulesMetadata,""+getTranslationBabel("Manipulate the head, add emotions, or create blinks — manually or automatically.")),createMetadata(EnhancementModulesMetadata,""+getTranslationBabel("Enhance facial details to correct imperfections and achieve a polished look."))],[createMetadata(FaceSwapModulesMetadata,""+getTranslationBabel("If you need to analyze photos, videos and determine whether the content is artificially created in Wunjo, you can do this using analysis.")),createMetadata(FaceSwapModulesMetadata,""+getTranslationBabel("If you need to analyze audio and determine whether the content is artificially created in Wunjo, you can do this using analysis."))]];function updateIndexModuleButtons(){const s=document.querySelector(".view-modules"),r=document.querySelector(".module-search-button"),l=document.querySelector(".module-search-input"),d=document.querySelector(".module-buttons");var e=document.querySelector(".module-buttons-left"),t=document.querySelector(".module-buttons-right");const c=d.querySelectorAll("button");let u=d.getBoundingClientRect(),g=0,m=!0;tf.setBackend("cpu").then(()=>{r.addEventListener("click",async e=>{r.innerHTML='<div class="h-full w-full flex animate-loadingStripe" style="justify-content: left;background: repeating-linear-gradient(-45deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 16px, rgba(0, 0, 0, 0.08) 16px, rgba(0, 0, 0, 0.08) 32px) 0% 0% / 200% 200%;"><div class="flex gap-3 items-center overflow-hidden"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none" class="animate-loadingRing mx-auto stroke-accent-primary"><path d="M17.5 10C17.5 14.1421 14.1421 17.5 10 17.5C5.85786 17.5 2.5 14.1421 2.5 10C2.5 5.85786 5.85786 2.5 10 2.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div>';var t=await translateText(l.value,"en","auto");if(t){t=await computeTextEmbedding(t);if(void 0!==t)if(c[t])c[t].click();else if(modulesMetadataList[t]){s.innerHTML="",1===modulesMetadataList[t].length?s.classList.remove("tablet:grid-cols-2","desktop:grid-cols-3"):2===modulesMetadataList[t].length?(s.classList.remove("desktop:grid-cols-3"),s.classList.add("tablet:grid-cols-2")):s.classList.add("tablet:grid-cols-2","desktop:grid-cols-3");for(var[a,o]of modulesMetadataList[t].entries()){a=await createViewModule(a+1,o);a&&s.appendChild(a)}t>=c.length&&c.forEach(e=>{e.classList.remove("border-b-2xl","border-accent-primary")})}}r.innerHTML='<i class="text-xl fa-solid fa-magnifying-glass opacity-60 group-hover:opacity-100"></i>'})}),window.addEventListener("resize",function(){d.style.transform="",d.style.transition="",u=d.getBoundingClientRect(),m=!1,c[g].click()}),e.addEventListener("click",e=>{g=(g-1+c.length)%c.length,c[g].click()}),t.addEventListener("click",e=>{g=(g+1)%c.length,c[g].click()}),l.addEventListener("keydown",function(e){"Enter"===e.key&&r.click()}),c.forEach((n,i)=>{n.addEventListener("click",async e=>{c.forEach(e=>{e!==n&&e.classList.remove("border-b-2xl","border-accent-primary")}),n.classList.add("border-b-2xl","border-accent-primary");var e=e.target.getBoundingClientRect(),t=u.left+u.width/2,e=e.left+e.width/2,a=getComputedStyle(d).transform,a=("none"!==a?parseFloat(a.split(",")[4].trim()):0)+(t-e);if(d.style.transform=`translateX(${a}px)`,d.style.transition="transform 0.5s ease",g=i,m&&modulesMetadataList[i]){l.value=n.textContent,s.innerHTML="",1===modulesMetadataList[i].length?s.classList.remove("tablet:grid-cols-2","desktop:grid-cols-3"):2===modulesMetadataList[i].length?(s.classList.remove("desktop:grid-cols-3"),s.classList.add("tablet:grid-cols-2")):s.classList.add("tablet:grid-cols-2","desktop:grid-cols-3");for(var[o,r]of modulesMetadataList[i].entries()){o=await createViewModule(o+1,r);o&&s.appendChild(o)}}m=!0})})}async function computeTextEmbedding(e){if(!(""===e.trim()||e.trim().length<4)){const d=t=>{let a=1,o=0;for(let e=0;e<t.length;e++){var r,n=t[e],i=n<0?-n:n;0<i&&(i>o?(r=o/n,a=1+a*r*r,o=i):(r=n/o,a+=r*r))}return o*Math.sqrt(a)};var t=await use.load(),a=(console.log("Model loaded!"),{"Live portrait from video or image, retarget, face animation, face manipulation":0,"Face swap on video or image, change face, face replacement":1,"Lip sync video or image by audio":2,"Enhancement face or improve video quality":3,"Remove any object":4,"Remove background and get transparent image":5,"Generation video or image and redraw, outpaint, inpaint":6,"Restyling, change color skin, video or image":7,"Clone voice from text or audio, add speech realism":8,"Separator, audio separator, song music audio separator, extract vocal or instrumental":9,"Edit a long video into a short one with highlights":10,"Create new visual styles for objects or faces, experiment with restyling":11,"Record a song fragment with a cloned voice or rewrite voice in song, change voice in music":12,"Combine face swap, avatar generation, and lip sync for speech video creation, create a talking person from scratch":13,"Analyze audio, photo or video, detect artificial content, verify deepfake or verify cloned voice, analysis content":14}),o=Object.keys(a),e=await t.embed([e]),r=await t.embed(o),n=[],i=e.arraySync()[0];for(let e=0;e<r.shape[0];e++){var s=r.arraySync()[e],l=((t,a)=>{let o=0;for(let e=0;e<t.length;e++)o+=t[e]*a[e];return o})(l=i,s=s)/(d(l)*d(s));n.push(l)}t=Math.max(...n);return a[o[n.indexOf(t)]]}}updateIndexModuleButtons();